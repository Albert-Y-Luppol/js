<form [formGroup]="heroForm">
  <input class="form-control" formControlName="name" required />
  <input class="form-control" formControlName="alterEgo" />
  <app-spinner *ngIf="alterEgo.pending"></app-spinner>
  <input class="form-control" formControlName="power" />

  <div
    *ngIf="name.invalid && (name.dirty || name.touched)"
    class="alert alert-danger"
  >
    <div *ngIf="name.errors.required">Name is required.</div>
    <div *ngIf="name.errors.minlength">
      Name must be at least 4 characters long.
    </div>
    <div *ngIf="name.errors.forbiddenName">
      Name cannot be {{ name.errors.forbiddenName.value | titlecase }}.
    </div>
  </div>
  <div
    *ngIf="
      heroForm.errors?.identityRevealed && (heroForm.touched || heroForm.dirty)
    "
    class="cross-validation-error-message alert alert-danger"
  >
    Name cannot match alter ego.
  </div>
</form>
